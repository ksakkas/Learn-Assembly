<html>
<head>

</head>
<body>
<h1> Learn Assembly</h1>
<p> Τμήμα Πληροφορικής & Τηλεπικοινωνιών </p>
<p>Αρχιτεκτονική Υπολογιστών Εργαστήριο - 3ο Εξάμηνο </p>
<p> Κωνσταντίνος Σακκάς</p>
<p>Copyright © 2020 Κωνσταντίνος Σακκάς. Με την επιφύλαξη παντός δικαιώματος</p>
<hr>
<h2>Assembly Mips - Παραδείγματα</h2>
<ul>
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/hello.asm">Hello World!</a></li> 
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/add_mips.asm">Άμεση Πρόσθεση</a></li> 
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/add_user.asm">Πρόσθεση δύο αριθμών απο τον χρήστη</a></li> 
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/result.asm">Επαναληπτικό Αθροισμα</a></li>  
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/if_s.asm">Παράδειγμα με IF</a></li>  
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/for.asm">Παράδειγμα με FOR</a></li>  
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/while_s.asm">Παράδειγμα με While</a></li>  
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/example.asm">Παράδειγμα πολλαπλασιαμό</a></li>  
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/addv.asm">Σύνθετο παράδειγμα Πρόσθεσης</a></li>  
</ul>
 





<h2>2η Εργασία Εξαμήνου</h2>
<ul>
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/addi.s">Άμεση πρόσθεση</a></li> 
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/addin.asm">Άμεση πρόσθεση δεκαδικού αριθμού στην ίδια μεταβλητή</a></li> 
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/addin0.asm">Άμεση αρχικοποίηση αριθμού με 0</a></li> 
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/addin2.asm">Άμεση πρόσθεση δεκαδικού αριθμού σε διαφορετική μεταβλητή</a></li> 
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/zero.s">Άμεση πρόσθεση του 0 σε μεταβλητές</a></li> 

</ul>


<h2>Εισαγωγή στην Assembly</h2>
<ul>
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/declaration.s">Δήλωση μεταβλητών</a></li> 
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/add.s">Πρόσθεση (δύο μεταβλητές)</a></li> 
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/add2.s">Πρόσθεση (περισσότερες μεταβλητές)</a></li> 
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/substract.s">Αφαίρεση (δύο μεταβλητές)</a></li> 
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/substract2.s">Αφαίρεση (περισσότερες μεταβλητές)</a></li> 
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/multiplication.s">Πολλαπλασιασμός</a></li> 
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/div.s">Διαίρεση</a></li> 
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/acts.s">Συνδυασμός πράξεων</a></li> 
</ul>

<h2>Assembly</h2>
<ul>
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/addr.s">Πράξεις με $</a></li>
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/lw.s">Φόρτωση δεδομένων</a></li>
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/lwe.s">Φόρτωση δεδομένων με offset</a></li>
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/sw.s">Αποθήκευση δεδομένων</a></li>
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/lsw.s">Φόρτωση και Αποθήκευση δεδομένων</a></li>
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/const.s">Σταθερές μεταβλητές</a></li>
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/addi.s">Άμεση πρόσθεση</a></li>
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/zero.s">Η σταθερά μηδέν (zero)</a></li> 
</ul>

<h2>Εντολές στην Assembly (εκτός ύλης)</h2>
<ul>
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/intdr.s">Σύμβολα</a></li>
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/mov.s">Η εντολή MOV (move)</a></li>
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/jump.s">Η εντολή JMP (jump)</a></li>
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/fcb.s">Η εντολή FCB (Field Constant Byte)</a></li>
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/fdb.s">Η εντολή FDB (Field Double Byte)</a></li>
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/equ.s">Η εντολή EQU (EQUate)
</a></li>
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/dbnz.s">Η εντολή DBNZ (Decrement & Branch if Not Zero)</a></li>
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/dbnza.s">Η εντολή DBNZA (Decrement & Branch if Not Zero - Accumulator)</a></li>
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/dbnzx.s">Η εντολή DBNZX (Decrement & Branch if Not  Zero - IndeX)</a></li>
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/dec.s">Οι εντολές DEC, DECA, DECX
</a></li>
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/inc.s">Οι εντολές INC, INCA, INCX
</a></li>
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/bne_beq.s">Οι εντολές BNE (Branch if Not Equal)  BEQ (Branch if Equal)</a></li>
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/jsr_rts.s">Οι εντολές JSR (Jump to SubRoutine)  RTS (ReTurn from Subroutine)</a></li>
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/brset_brclear.s">Οι εντολές BRSET (BRanch if n bit SET)  BRSET (BRanch if n bit CLeaR)</a></li>
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/eor.s">Η εντολή EOR (Exclusive OR) </a></li>
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/lda.s">Η εντολή LDA (LoaD Accumulator)</a></li>
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/sta.s">Η εντολή SΤA (STore Accumulator)</a></li>
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/ldx.s">Η εντολή LDX (LoaD IndeX)</a></li>
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/stx.s">Η εντολή SΤX (STore IndeX)</a></li>
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/clrx.s">Η εντολή CLRX (CLeaR IndeX)</a></li>
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/clra.s">Η εντολή CLRA (CLeaR Accumulator)</a></li>
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/clr.s">Η εντολή CLR (CLeaR register)</a></li>
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/cmpx.s">Η εντολή CMPX (CoMPare indeX)</a></li>
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/cmpa.s">Η εντολή CMPΑ (CoMPare Αccumulator)</a></li>
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/bls.s">Η εντολή BLS (Branch if Lower or Same)</a></li>
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/blo.s">Η εντολή BLO (Branch if LOwer)</a></li>
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/bhs.s">Η εντολή BHS (Branch if Higher or Same)</a></li>
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/bhi.s">Η εντολή BHI (Branch if HIgher)</a></li>
</ul>

<h2>MIPS & Assembly</h2>
<ul>
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/sll.s">Αριστερή λογική ολίσθηση</a></li>
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/srl.s">Δεξιά λογική ολίσθηση</a></li>
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/and.s">Λογικό AND</a></li>
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/or.s">Λογικό OR</a></li>
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/nor.s">Λογικό NOR - NOT</a></li>
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/beq.s">∆ιακλαδώσεις υπό συνθήκη - BRQ (διακλάδωση σε περίπτωση ισότητας)</a></li>
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/bne.s">∆ιακλαδώσεις υπό συνθήκη - BNE (διακλάδωση σε περίπτωση µη  ισότητας)</a></li>
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/if_then_else.s">If - then - else</a></li>
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/if_s.asm">Παράδειγμα με IF</a></li>
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/while.s">While</a></li>
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/while_s.asm">Παράδειγμα με While</a></li>

<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/slt.s">Εντολή set-on-less-than
</a></li>
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/for.asm">Η For
</a></li>
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/slt_sltu.s">Προσηµασµένοι & Απρόσηµοι</a></li>
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/mps.s">∆ιαδικασίες στο MIPS</a></li>
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/jal_jr.s">Κλήση & επιστροφή</a></li>
<li><a href="https://github.com/ksakkas/Learn-Assembly/blob/master/Code/leaf.s">∆ιαδικασία-φύλλο (leaf)</a></li>

</ul>

</body>
</html>

## Pseudo-instructions ##

In MIPS, some operations can be performed with help of other instructions.
The most common operations are unified in **pseudo-instructions** — they can be coded in assembly language, and assembler will expand them to real [instructions](MIPS-Instruction-Set). The exact expansion is compiler-defined, but the result should be similar to ours:

### Data moves ###

| **Name** | **Assembly syntax** | **Expansion** | **Operation in C** |
|:---------|:--------------------|:--------------|:-------------------|
| move     | `move $t, $s`       | `or $t, $s, $zero` | `t = s`            |
| clear    | `clear $t`          | `or $t, $zero, $zero` | `t = 0`            |
| load 16-bit immediate | `li $t, C` | `ori $t, $zero, C_lo` | `t = C` |
| load 32-bit immediate | `li $t, C` | `lui $t, C_hi`<br />`ori $t, $t, C_lo` | `t = C` |
| load label address | `la $t, A` | `lui $t, A_hi`<br />`ori $t, $t, A_lo` | `t = A` |

### Branches ###

| **Name** | **Assembly syntax** | **Expansion** |
|:---------|:--------------------|:--------------|
| branch unconditionally | `b C`               | `beq $zero, $zero, C` |
| branch unconditionally<br/>and link | `bal C`             | `bgezal $zero, C` |
| branch if greater than | `bgt $s, $t, C`     | `slt $at, $t, $s`<br />`bne $at, $zero, C`|
| branch if less than | `blt $s, $t, C`     | `slt $at, $s, $t`<br />`bne $at, $zero, C`|
| branch if greater than<br/>or equal | `bge $s, $t, C`     | `slt $at, $s, $t`<br />`beq $at, $zero, C`|
| branch if less than<br/>or equal | `ble $s, $t, C`     | `slt $at, $t, $s`<br />`beq $at, $zero, C`|
| branch if greater than<br/>unsigned | `bgtu $s, $t, C`    | `sltu $at, $t, $s`<br />`bne $at, $zero, C`|
| branch if zero | `beqz $s, C`        | `beq $s, $zero, C`|
| branch if equal to immediate | `beq $t, V, C` | `ori $at, $zero, V`<br />`beq $t, $at, C`|
| branch if not equal to immediate | `bne $t, V, C` | `ori $at, $zero, V`<br />`bne $t, $at, C`|

### Multiplication/Division ###

| **Name** | **Assembly syntax** | **Expansion** | **Operation in C** |
|:---------|:--------------------|:--------------|:-------------------|
| multiplicate<br/>and return 32 bits | `mul $d, $s, $t`    | `mult $s, $t`<br />`mflo $d` | `d = (s * t) & 0xFFFFFFFF` |
| quotient | `div $d, $s, $t`    | `div $s, $t`<br />`mflo $d` | `d = s / t`        |
| remainder | `rem $d, $s, $t`    | `div $s, $t`<br />`mfhi $d` | `d = s % t`        |

### Jumps ###

| **Name** | **Assembly syntax** | **Expansion** | **Operation in C** |
|:---------|:--------------------|:--------------|:-------------------|
| jump register and link to ra | `jalr $s`        | `jalr $s, $ra` | `ra = PC + 4; goto s;` |

### Logical operations ###

| **Name** | **Assembly syntax** | **Expansion** | **Operation in C** |
|:---------|:--------------------|:--------------|:-------------------|
| not      | `not $t, $s`        | `nor $t, $s, $zero` | `t = ~s`           |

### No-operations ###

| **Name** | **Assembly syntax** | **Expansion** | **Operation in C** |
|:---------|:--------------------|:--------------|:-------------------|
| nop      | `nop`               | `sll $zero, $zero, 0` | `{}`               |



In fact, every MIPS instruction that has `$zero` as its destination and doesn't touch memory, access I/O system, and/or call a trap, can be treated as a `nop`; but using `sll $zero, $zero, 0` is the most convenient because it's byte code is all-zeroes `0x00000000`.

---

### Should we implement pseudo-instructions ###

Since 2014/2015, all instructions are printed as real MIPS instructions in MIPT-MIPS. Unexpanded pseudo-instructions are left only in testing traces source files (`.s` files).